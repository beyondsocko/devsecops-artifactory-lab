<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 24px; font-weight: bold; fill: #202B52; }
      .subtitle { font-family: Arial, sans-serif; font-size: 16px; fill: #3F486B; }
      .box { fill: #FFFFFF; stroke: #202B52; stroke-width: 2; rx: 8; }
      .process { fill: #F8F9FF; stroke: #0961FB; stroke-width: 2; rx: 8; }
      .security { fill: #FFF5F5; stroke: #EA1B15; stroke-width: 2; rx: 8; }
      .storage { fill: #F0FFF4; stroke: #038C73; stroke-width: 2; rx: 8; }
      .text { font-family: Arial, sans-serif; font-size: 12px; fill: #010D39; }
      .label { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; fill: #202B52; }
      .arrow { stroke: #3F486B; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .security-arrow { stroke: #EA1B15; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#3F486B" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" class="title">DevSecOps Pipeline Architecture</text>
  <text x="600" y="55" text-anchor="middle" class="subtitle">Nexus Repository OSS + Security Gates + CI/CD Integration</text>
  
  <!-- Developer -->
  <rect x="50" y="100" width="120" height="60" class="box"/>
  <text x="110" y="125" text-anchor="middle" class="label">Developer</text>
  <text x="110" y="145" text-anchor="middle" class="text">Code Changes</text>
  
  <!-- GitHub -->
  <rect x="220" y="100" width="120" height="60" class="box"/>
  <text x="280" y="125" text-anchor="middle" class="label">GitHub</text>
  <text x="280" y="145" text-anchor="middle" class="text">Source Control</text>
  
  <!-- CI/CD Pipeline -->
  <rect x="50" y="220" width="700" height="200" class="process"/>
  <text x="400" y="245" text-anchor="middle" class="label">GitHub Actions CI/CD Pipeline</text>
  
  <!-- Pipeline Stages -->
  <rect x="70" y="260" width="100" height="40" class="box"/>
  <text x="120" y="275" text-anchor="middle" class="text">1. Lint &amp;</text>
  <text x="120" y="290" text-anchor="middle" class="text">Test</text>
  
  <rect x="190" y="260" width="100" height="40" class="box"/>
  <text x="240" y="275" text-anchor="middle" class="text">2. Build</text>
  <text x="240" y="290" text-anchor="middle" class="text">Container</text>
  
  <rect x="310" y="260" width="100" height="40" class="security"/>
  <text x="360" y="275" text-anchor="middle" class="text">3. Security</text>
  <text x="360" y="290" text-anchor="middle" class="text">Scan</text>
  
  <rect x="430" y="260" width="100" height="40" class="security"/>
  <text x="480" y="275" text-anchor="middle" class="text">4. Policy</text>
  <text x="480" y="290" text-anchor="middle" class="text">Gate</text>
  
  <rect x="550" y="260" width="100" height="40" class="box"/>
  <text x="600" y="275" text-anchor="middle" class="text">5. Publish</text>
  <text x="600" y="290" text-anchor="middle" class="text">Artifacts</text>
  
  <rect x="670" y="260" width="70" height="40" class="box"/>
  <text x="705" y="275" text-anchor="middle" class="text">6. Record</text>
  <text x="705" y="290" text-anchor="middle" class="text">&amp; Notify</text>
  
  <!-- Security Tools -->
  <rect x="70" y="320" width="280" height="80" class="security"/>
  <text x="210" y="340" text-anchor="middle" class="label">Security Scanning Tools</text>
  <text x="120" y="360" text-anchor="middle" class="text">Trivy</text>
  <text x="180" y="360" text-anchor="middle" class="text">Grype</text>
  <text x="240" y="360" text-anchor="middle" class="text">Syft</text>
  <text x="300" y="360" text-anchor="middle" class="text">OPA</text>
  <text x="210" y="380" text-anchor="middle" class="text">Vulnerability Scanning + SBOM + Policy Engine</text>
  
  <!-- Policy Gate Details -->
  <rect x="370" y="320" width="200" height="80" class="security"/>
  <text x="470" y="340" text-anchor="middle" class="label">Security Policy Gate</text>
  <text x="470" y="360" text-anchor="middle" class="text">Critical: 0 allowed</text>
  <text x="470" y="375" text-anchor="middle" class="text">High: 5 max allowed</text>
  <text x="470" y="390" text-anchor="middle" class="text">Bypass with audit trail</text>
  
  <!-- Nexus Repository -->
  <rect x="850" y="180" width="300" height="280" class="storage"/>
  <text x="1000" y="205" text-anchor="middle" class="label">Nexus Repository OSS</text>
  
  <!-- Docker Registry -->
  <rect x="870" y="230" width="120" height="60" class="box"/>
  <text x="930" y="250" text-anchor="middle" class="text">Docker Registry</text>
  <text x="930" y="265" text-anchor="middle" class="text">localhost:8082</text>
  <text x="930" y="280" text-anchor="middle" class="text">Container Images</text>
  
  <!-- Generic Repository -->
  <rect x="1010" y="230" width="120" height="60" class="box"/>
  <text x="1070" y="250" text-anchor="middle" class="text">Generic Repo</text>
  <text x="1070" y="265" text-anchor="middle" class="text">raw-hosted</text>
  <text x="1070" y="280" text-anchor="middle" class="text">SBOM + Reports</text>
  
  <!-- Metadata System -->
  <rect x="870" y="310" width="260" height="60" class="box"/>
  <text x="1000" y="330" text-anchor="middle" class="text">Metadata System</text>
  <text x="1000" y="345" text-anchor="middle" class="text">JSON companion files with build info,</text>
  <text x="1000" y="360" text-anchor="middle" class="text">security status, and vulnerability counts</text>
  
  <!-- Audit & Reporting -->
  <rect x="870" y="390" width="260" height="60" class="box"/>
  <text x="1000" y="410" text-anchor="middle" class="text">Audit Trail &amp; Reports</text>
  <text x="1000" y="425" text-anchor="middle" class="text">Policy decisions, scan results,</text>
  <text x="1000" y="440" text-anchor="middle" class="text">compliance documentation</text>
  
  <!-- Security Decision Point -->
  <rect x="580" y="320" width="160" height="80" class="security"/>
  <text x="660" y="340" text-anchor="middle" class="label">Decision Point</text>
  <text x="660" y="360" text-anchor="middle" class="text">PASS → Publish</text>
  <text x="660" y="375" text-anchor="middle" class="text">FAIL → Block</text>
  <text x="660" y="390" text-anchor="middle" class="text">BYPASS → Override</text>
  
  <!-- Monitoring & Alerts -->
  <rect x="50" y="500" width="200" height="80" class="box"/>
  <text x="150" y="520" text-anchor="middle" class="label">Monitoring &amp; Alerts</text>
  <text x="150" y="540" text-anchor="middle" class="text">GitHub Actions</text>
  <text x="150" y="555" text-anchor="middle" class="text">Slack Notifications</text>
  <text x="150" y="570" text-anchor="middle" class="text">Email Alerts</text>
  
  <!-- Compliance & Governance -->
  <rect x="280" y="500" width="200" height="80" class="box"/>
  <text x="380" y="520" text-anchor="middle" class="label">Compliance</text>
  <text x="380" y="540" text-anchor="middle" class="text">SBOM Generation</text>
  <text x="380" y="555" text-anchor="middle" class="text">Vulnerability Reports</text>
  <text x="380" y="570" text-anchor="middle" class="text">Audit Logs</text>
  
  <!-- Production Environment -->
  <rect x="950" y="500" width="200" height="80" class="storage"/>
  <text x="1050" y="520" text-anchor="middle" class="label">Production</text>
  <text x="1050" y="540" text-anchor="middle" class="text">Approved Artifacts</text>
  <text x="1050" y="555" text-anchor="middle" class="text">Secure Deployments</text>
  <text x="1050" y="570" text-anchor="middle" class="text">Compliance Ready</text>
  
  <!-- Arrows -->
  <!-- Developer to GitHub -->
  <line x1="170" y1="130" x2="220" y2="130" class="arrow"/>
  
  <!-- GitHub to CI/CD -->
  <line x1="280" y1="160" x2="280" y2="220" class="arrow"/>
  
  <!-- Pipeline stage arrows -->
  <line x1="170" y1="280" x2="190" y2="280" class="arrow"/>
  <line x1="290" y1="280" x2="310" y2="280" class="arrow"/>
  <line x1="410" y1="280" x2="430" y2="280" class="security-arrow"/>
  <line x1="530" y1="280" x2="550" y2="280" class="security-arrow"/>
  <line x1="650" y1="280" x2="670" y2="280" class="arrow"/>
  
  <!-- Security tools to gate -->
  <line x1="350" y1="360" x2="430" y2="320" class="security-arrow"/>
  
  <!-- Gate to decision -->
  <line x1="530" y1="320" x2="580" y2="340" class="security-arrow"/>
  
  <!-- Decision to Nexus -->
  <line x1="740" y1="360" x2="850" y2="320" class="arrow"/>
  
  <!-- CI/CD to Nexus -->
  <line x1="750" y1="280" x2="850" y2="280" class="arrow"/>
  
  <!-- Nexus to Production -->
  <line x1="1000" y1="460" x2="1000" y2="500" class="arrow"/>
  
  <!-- Legend -->
  <rect x="50" y="650" width="500" height="120" class="box"/>
  <text x="300" y="675" text-anchor="middle" class="label">Legend</text>
  
  <rect x="70" y="690" width="20" height="15" class="box"/>
  <text x="100" y="702" class="text">Standard Process</text>
  
  <rect x="200" y="690" width="20" height="15" class="security"/>
  <text x="230" y="702" class="text">Security Control</text>
  
  <rect x="330" y="690" width="20" height="15" class="storage"/>
  <text x="360" y="702" class="text">Storage/Repository</text>
  
  <line x1="70" y1="720" x2="100" y2="720" class="arrow"/>
  <text x="110" y="725" class="text">Data Flow</text>
  
  <line x1="200" y1="720" x2="230" y2="720" class="security-arrow"/>
  <text x="240" y="725" class="text">Security Decision</text>
  
  <text x="70" y="745" class="text">• Trivy: Primary vulnerability scanner</text>
  <text x="70" y="760" class="text">• Grype: Alternative vulnerability scanner</text>
  <text x="280" y="745" class="text">• Syft: SBOM generation tool</text>
  <text x="280" y="760" class="text">• OPA: Policy engine (optional)</text>
</svg>
